(()=>{"use strict";var e,t={85:(e,t,a)=>{var n=a(294),r=a(935),l=a(184),s=a.n(l);const i={wrapper:"S1aNY0TCqD9P9jjJhY14",important:"cYOk9BHvL0fHvVZFCxJ9",secondary:"sMAVat1JOYt2JmslcIIA",primary:"taWj2FV8PuPDp5x2uong",selected:"TUY88lo5ZteLYwJpooKw",block:"BbCxxIjBGupN28bq2lSP",text:"Kg7tE2QVl8NIE7lUIRVu"};var d=a(893);const o=({variant:e="primary",selected:t=!1,block:a=!1,className:n,children:r="Click",eventKey:l,onClick:o,...c})=>(0,d.jsx)("button",{className:s()("core-uikit-button",i.wrapper,i[e],{[i.block]:a},{[i.selected]:t},n),style:c.style,onClick:e=>{o&&o(e,{eventKey:l})},...c,children:r}),c=n.createContext({setAttributes:()=>{}}),u=n.createContext({setAttributes:()=>{}}),m=c,v={wrapper:"v6ZOKFPMRiv5bv3dMtl1",disabled:"i7FETmJa1ATUJ0Gh3loe",invalid:"Kemh_dyEHM1hQ2ZL8o3Q",plaintext:"hRtsif1uCX0NUUMVmFNw",control:"c2GWO5kbFLAvEplHh4rV"},h=n.forwardRef((function({className:e,type:t="text",plaintext:a,...r},l){const{attributes:i,setAttributes:o}=(0,n.useContext)(u),[c,m]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{i?.entered===c&&i?.disabled===r.disabled&&i?.readOnly===r.readOnly&&i?.variant===r.variant&&i?.plaintext===a||o({entered:c,disabled:r.disabled,readOnly:r.readOnly,variant:r.variant,plaintext:a})}),[c,r.disabled,r.readOnly,r.variant,a,o]),(0,d.jsx)("div",{className:s()("component-input",v.wrapper,{[v.entered]:c,[v.disabled]:!!r.disabled,[v["read-only"]]:!!r.readOnly,[v.plaintext]:!!a,[v.variant]:r.variant},e),style:r.style,children:(0,d.jsx)("input",{...r,ref:l,type:t,id:i?.formId,className:s()(v.control),onChange:e=>{""===e.target.value.trim()?m(!1):m(!0),r.onChange&&r.onChange(e)}})})})),x=Object.assign((({layout:e,labelWidth:t,...a})=>{const[r,l]=(0,n.useState)({layout:e,labelWidth:t}),s=(0,n.useCallback)((e=>{l((t=>({...t,...e})))}),[]);return(0,d.jsx)(m.Provider,{value:{attributes:r,setAttributes:s},children:(0,d.jsx)("form",{...a,onSubmit:e=>{e.preventDefault(),a.onSubmit&&a.onSubmit(e)},children:a.children})})}),{Input:h}),b="OJFjTjSZK92y37LJMiMr",p=({step:e=1,value:t=0,...a})=>{const r=(0,n.useRef)(null),[l,i]=(0,n.useState)(t),c=e=>{if(!r.current)return;const t=+r.current.value,n=e(t);void 0!==n&&n!==t&&(r.current.value=String(n),i(n),a.onChange&&a.onChange({target:{name:a.name||"",value:String(n)}}))};return(0,d.jsxs)("div",{className:"c0eChTXKyAgVCTi0cH9O",children:[(0,d.jsx)(o,{className:s()(b,"_jwRgtfNPPb1Loy5h0zs"),disabled:l===a.min,onClick:()=>{c((t=>{if(!t&&0!==t)return a.min;const n=t-e;return a.min&&n<a.min?a.min:n}))},children:"-"}),(0,d.jsx)(x.Input,{ref:r,className:"zmJryV1wkPyP_JOqUDdw",type:"number",inputMode:"numeric",defaultValue:t,name:a.name,min:a.min,max:a.max,disabled:a.disabled,onBlur:e=>{if(!r.current)return;const t=+r.current.value||void 0;t&&(a.min&&t<a.min?(r.current.value=String(a.min),i(a.min)):a.max&&t>a.max&&(r.current.value=String(a.max),i(a.max))),a.onBlur&&a.onBlur(e)},onChange:e=>{a.min&&+e.target.value<a.min||a.max&&+e.target.value>a.max||a.onChange&&a.onChange(e)}}),(0,d.jsx)(o,{className:s()(b,"Ea_vSn9Zt2o8YtGxu7B9"),disabled:l===a.max,onClick:()=>{c((t=>{if(!t&&0!==t)return a.min;const n=t+e;return a.max&&n>a.max?a.max:n}))},children:"+"})]})},g=(e,{total:t,left:a})=>{const n=t-e;return t+a<4?t+a-n:4-n},f="AhaT3OnpAZ95CVpGvLnM",j=e=>{const[t,a]=(0,n.useState)(1),[r,l]=(0,n.useState)(0),s=t+r,i=t=>{a(+t.target.value),e.onChange({adult:+t.target.value,child:r})},o=a=>{l(+a.target.value),e.onChange({adult:t,child:+a.target.value})};return(0,d.jsxs)("div",{className:"AOpFplq7W7s3rifg_4Xy",children:[(0,d.jsxs)("div",{className:"_PLnuatU6I9EYGsRsVK9",children:["房間：",s," 人"]}),(0,d.jsxs)("div",{className:"aQ39ONJYUDhhSkQ6Mx8P",children:[(0,d.jsxs)("div",{className:f,children:["大人",(0,d.jsx)("div",{className:"XkloU5hwg92j46aRbKCz",children:"年齡 20+"})]}),(0,d.jsx)("div",{children:(0,d.jsx)(p,{value:t,min:1,max:g(t,{total:s,left:e.left}),disabled:e.disabled,onChange:i,onBlur:i})})]}),(0,d.jsxs)("div",{className:"Eend74x8JI1w5E7SCHnw",children:[(0,d.jsx)("div",{className:f,children:"小孩"}),(0,d.jsx)("div",{children:(0,d.jsx)(p,{value:r,min:0,max:g(r,{total:s,left:e.left}),disabled:e.disabled,onChange:o,onBlur:o})})]})]})},y=e=>{const[t,a]=(0,n.useState)((()=>Array.from({length:e.room},(()=>({adult:1,child:0}))))),r=((e,t)=>e-t.reduce(((e,t)=>e+t.adult+t.child),0))(e.guest,t);return e.guest<e.room?(0,d.jsx)("div",{children:"人數不可少於房間數"}):(0,d.jsxs)("div",{className:"lY1KAxeOhWq4d68ov8C_",children:[(0,d.jsxs)("div",{className:"is1v7poKaxv4DlqDFMRA",children:["住客人數：",e.guest,"人/",e.room,"房"]}),(0,d.jsxs)("div",{className:"RKyP1TFDBxMmgb9WTbnG",children:["尚未分配人數：",r,"人"]}),t.map(((n,l)=>(0,d.jsx)(j,{left:r,disabled:e.disabled,onChange:n=>{const r=t.map(((e,t)=>l!==t?e:n));a(r),e.onChange(r)}},l)))]})},C=()=>(0,d.jsx)("div",{children:(0,d.jsx)(y,{guest:4,room:3,disabled:!1,onChange:e=>console.info(e)})});r.render((0,d.jsx)(n.StrictMode,{children:(0,d.jsx)(C,{})}),document.getElementById("root"))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var l=a[e]={exports:{}};return t[e](l,l.exports,n),l.exports}n.m=t,e=[],n.O=(t,a,r,l)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){for(var[a,r,l]=e[c],i=!0,d=0;d<a.length;d++)(!1&l||s>=l)&&Object.keys(n.O).every((e=>n.O[e](a[d])))?a.splice(d--,1):(i=!1,l<s&&(s=l));if(i){e.splice(c--,1);var o=r();void 0!==o&&(t=o)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,r,l]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,l,[s,i,d]=a,o=0;if(s.some((t=>0!==e[t]))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(d)var c=d(n)}for(t&&t(a);o<s.length;o++)l=s[o],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=self.webpackChunkasiayo=self.webpackChunkasiayo||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[736],(()=>n(85)));r=n.O(r)})();